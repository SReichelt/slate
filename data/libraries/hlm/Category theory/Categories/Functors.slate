%../../../../logics/hlm%

/**
 * @references * https://en.wikipedia.org/wiki/Functor
 */
$Functors(
  U: %Symbol(auto = %true),
  ğ“’: %Element(
    $Categories(U = {U}),
    shortcut = {
      constructor = $Categories(U = {U}).category,
      parameters = #(
        O: %Set,
        ğ€: %Binding(
          O,
          #(ğ: %Binding(
            %previous,
            #(M: %Set)
          ))
        ),
        ğ‚: %Binding(
          O,
          #(i: %Element(M[ğ‚,ğ‚]))
        ),
        ğƒ: %Binding(
          O,
          #(ğ„: %Binding(
            %previous,
            #(ğ…: %Binding(
              %previous,
              #(âˆ˜: %Element($../../Essentials/Functions/Operations/Operations(
                X = {M[ğ„,ğ…]},
                Y = {M[ğƒ,ğ„]},
                Z = {M[ğƒ,ğ…]}
              )))
            ))
          ))
        ),
        _1: %Constraint(%forall(
          #(
            ğ–: %Element(O),
            ğ—: %Element(%previous),
            ğ˜: %Element(%previous),
            ğ™: %Element(%previous),
            f: %Element(M[ğ–,ğ—]),
            g: %Element(M[ğ—,ğ˜]),
            h: %Element(M[ğ˜,ğ™])
          ),
          %equals(
            $../../Essentials/Functions/Operations/value(
              X = {M[ğ—,ğ™]},
              Y = {M[ğ–,ğ—]},
              Z = {M[ğ–,ğ™]},
              âˆ— = {âˆ˜[ğ–,ğ—,ğ™]},
              x = {$../../Essentials/Functions/Operations/value(
                X = {M[ğ˜,ğ™]},
                Y = {M[ğ—,ğ˜]},
                Z = {M[ğ—,ğ™]},
                âˆ— = {âˆ˜[ğ—,ğ˜,ğ™]},
                x = {h},
                y = {g}
              )},
              y = {f}
            ),
            $../../Essentials/Functions/Operations/value(
              X = {M[ğ˜,ğ™]},
              Y = {M[ğ–,ğ˜]},
              Z = {M[ğ–,ğ™]},
              âˆ— = {âˆ˜[ğ–,ğ˜,ğ™]},
              x = {h},
              y = {$../../Essentials/Functions/Operations/value(
                X = {M[ğ—,ğ˜]},
                Y = {M[ğ–,ğ—]},
                Z = {M[ğ–,ğ˜]},
                âˆ— = {âˆ˜[ğ–,ğ—,ğ˜]},
                x = {g},
                y = {f}
              )}
            )
          )
        )),
        _2: %Constraint(%forall(
          #(
            ğ—: %Element(O),
            ğ˜: %Element(%previous),
            f: %Element(M[ğ—,ğ˜])
          ),
          %and(
            %equals(
              $../../Essentials/Functions/Operations/value(
                X = {M[ğ˜,ğ˜]},
                Y = {M[ğ—,ğ˜]},
                Z = {M[ğ—,ğ˜]},
                âˆ— = {âˆ˜[ğ—,ğ˜,ğ˜]},
                x = {i[ğ˜]},
                y = {f}
              ),
              f
            ),
            %equals(
              $../../Essentials/Functions/Operations/value(
                X = {M[ğ—,ğ˜]},
                Y = {M[ğ—,ğ—]},
                Z = {M[ğ—,ğ˜]},
                âˆ— = {âˆ˜[ğ—,ğ—,ğ˜]},
                x = {f},
                y = {i[ğ—]}
              ),
              f
            )
          )
        )),
        _3: %Constraint(%forall(
          #(
            ğ—: %Element(O),
            ğ˜: %Element(%previous),
            f: %Element(M[ğ—,ğ˜]),
            g: %Element(M[ğ˜,ğ—]),
            _4: %Constraint(%equals(
              $../../Essentials/Functions/Operations/value(
                X = {M[ğ—,ğ˜]},
                Y = {M[ğ˜,ğ—]},
                Z = {M[ğ˜,ğ˜]},
                âˆ— = {âˆ˜[ğ˜,ğ—,ğ˜]},
                x = {f},
                y = {g}
              ),
              i[ğ˜]
            )),
            _5: %Constraint(%equals(
              $../../Essentials/Functions/Operations/value(
                X = {M[ğ˜,ğ—]},
                Y = {M[ğ—,ğ˜]},
                Z = {M[ğ—,ğ—]},
                âˆ— = {âˆ˜[ğ—,ğ˜,ğ—]},
                x = {g},
                y = {f}
              ),
              i[ğ—]
            ))
          ),
          %equals(f, g)
        ))
      )
    }
  ),
  ğ““: %Element(
    %previous,
    shortcut = {
      constructor = $Categories(U = {U}).category,
      parameters = #(
        P: %Set,
        "ğ€'": %Binding(
          P,
          #("ğ'": %Binding(
            %previous,
            #(N: %Set)
          ))
        ),
        "ğ‚'": %Binding(
          P,
          #(j: %Element(N["ğ‚'","ğ‚'"]))
        ),
        "ğƒ'": %Binding(
          P,
          #("ğ„'": %Binding(
            %previous,
            #("ğ…'": %Binding(
              %previous,
              #(âˆ™: %Element($../../Essentials/Functions/Operations/Operations(
                X = {N["ğ„'","ğ…'"]},
                Y = {N["ğƒ'","ğ„'"]},
                Z = {N["ğƒ'","ğ…'"]}
              )))
            ))
          ))
        ),
        "_1'": %Constraint(%forall(
          #(
            "ğ–'": %Element(P),
            "ğ—'": %Element(%previous),
            "ğ˜'": %Element(%previous),
            "ğ™'": %Element(%previous),
            f: %Element(N["ğ–'","ğ—'"]),
            g: %Element(N["ğ—'","ğ˜'"]),
            h: %Element(N["ğ˜'","ğ™'"])
          ),
          %equals(
            $../../Essentials/Functions/Operations/value(
              X = {N["ğ—'","ğ™'"]},
              Y = {N["ğ–'","ğ—'"]},
              Z = {N["ğ–'","ğ™'"]},
              âˆ— = {âˆ™["ğ–'","ğ—'","ğ™'"]},
              x = {$../../Essentials/Functions/Operations/value(
                X = {N["ğ˜'","ğ™'"]},
                Y = {N["ğ—'","ğ˜'"]},
                Z = {N["ğ—'","ğ™'"]},
                âˆ— = {âˆ™["ğ—'","ğ˜'","ğ™'"]},
                x = {h},
                y = {g}
              )},
              y = {f}
            ),
            $../../Essentials/Functions/Operations/value(
              X = {N["ğ˜'","ğ™'"]},
              Y = {N["ğ–'","ğ˜'"]},
              Z = {N["ğ–'","ğ™'"]},
              âˆ— = {âˆ™["ğ–'","ğ˜'","ğ™'"]},
              x = {h},
              y = {$../../Essentials/Functions/Operations/value(
                X = {N["ğ—'","ğ˜'"]},
                Y = {N["ğ–'","ğ—'"]},
                Z = {N["ğ–'","ğ˜'"]},
                âˆ— = {âˆ™["ğ–'","ğ—'","ğ˜'"]},
                x = {g},
                y = {f}
              )}
            )
          )
        )),
        "_2'": %Constraint(%forall(
          #(
            "ğ—'": %Element(P),
            "ğ˜'": %Element(%previous),
            f: %Element(N["ğ—'","ğ˜'"])
          ),
          %and(
            %equals(
              $../../Essentials/Functions/Operations/value(
                X = {N["ğ˜'","ğ˜'"]},
                Y = {N["ğ—'","ğ˜'"]},
                Z = {N["ğ—'","ğ˜'"]},
                âˆ— = {âˆ™["ğ—'","ğ˜'","ğ˜'"]},
                x = {j["ğ˜'"]},
                y = {f}
              ),
              f
            ),
            %equals(
              $../../Essentials/Functions/Operations/value(
                X = {N["ğ—'","ğ˜'"]},
                Y = {N["ğ—'","ğ—'"]},
                Z = {N["ğ—'","ğ˜'"]},
                âˆ— = {âˆ™["ğ—'","ğ—'","ğ˜'"]},
                x = {f},
                y = {j["ğ—'"]}
              ),
              f
            )
          )
        )),
        "_3'": %Constraint(%forall(
          #(
            "ğ—'": %Element(P),
            "ğ˜'": %Element(%previous),
            f: %Element(N["ğ—'","ğ˜'"]),
            g: %Element(N["ğ˜'","ğ—'"]),
            "_4'": %Constraint(%equals(
              $../../Essentials/Functions/Operations/value(
                X = {N["ğ—'","ğ˜'"]},
                Y = {N["ğ˜'","ğ—'"]},
                Z = {N["ğ˜'","ğ˜'"]},
                âˆ— = {âˆ™["ğ˜'","ğ—'","ğ˜'"]},
                x = {f},
                y = {g}
              ),
              j["ğ˜'"]
            )),
            "_5'": %Constraint(%equals(
              $../../Essentials/Functions/Operations/value(
                X = {N["ğ˜'","ğ—'"]},
                Y = {N["ğ—'","ğ˜'"]},
                Z = {N["ğ—'","ğ—'"]},
                âˆ— = {âˆ™["ğ—'","ğ˜'","ğ—'"]},
                x = {g},
                y = {f}
              ),
              j["ğ—'"]
            ))
          ),
          %equals(f, g)
        ))
      )
    }
  )
): %Construction {
  $functor(
    ğ—: %Binding(
      O,
      #(ğ: %Element(P))
    ),
    ğ˜: %Binding(
      O,
      #(ğ™: %Binding(
        O,
        #(f: %Binding(
          M[ğ˜,ğ™],
          #(n: %Element(N[ğ[ğ˜],ğ[ğ™]]))
        ))
      ))
    ),
    _1: %Constraint(%forall(
      #(ğ—: %Element(O)),
      %equals(n[ğ—,ğ—,i[ğ—]], j[ğ[ğ—]])
    )),
    _2: %Constraint(%forall(
      #(
        ğ—: %Element(O),
        ğ˜: %Element(%previous),
        ğ™: %Element(%previous),
        f: %Element(M[ğ—,ğ˜]),
        g: %Element(M[ğ˜,ğ™])
      ),
      %equals(
        n[
          ğ—,
          ğ™,
          $../../Essentials/Functions/Operations/value(
            X = {M[ğ˜,ğ™]},
            Y = {M[ğ—,ğ˜]},
            Z = {M[ğ—,ğ™]},
            âˆ— = {âˆ˜[ğ—,ğ˜,ğ™]},
            x = {g},
            y = {f}
          )
        ],
        $../../Essentials/Functions/Operations/value(
          X = {N[ğ[ğ˜],ğ[ğ™]]},
          Y = {N[ğ[ğ—],ğ[ğ˜]]},
          Z = {N[ğ[ğ—],ğ[ğ™]]},
          âˆ— = {âˆ™[ğ[ğ—],ğ[ğ˜],ğ[ğ™]]},
          x = {n[ğ˜,ğ™,g]},
          y = {n[ğ—,ğ˜,f]}
        )
      )
    ))
  ): %Constructor {
    display = [$Parens(
      body = $Table(
        items = [
          [
            $InnerParens(
              body = ğ“’,
              maxLevel = 0
            ),
            'â€‰â†’â€‰',
            $InnerParens(
              body = ğ““,
              maxLevel = 0
            )
          ],
          [ğ—, 'â€‰â†¦â€‰', ğ],
          [
            $Parens(
              body = $FunctionDefinition(
                function = f,
                symbol = 'â†’',
                operands = [ğ˜, ğ™]
              ),
              style = '()'
            ),
            'â€‰â†¦â€‰',
            n
          ]
        ],
        style = 'aligned'
      ),
      style = '()'
    )],
    definitionDisplay = {
      parameter = #(F: %Expr),
      display = [$FunctionPrefix(
        function = F,
        body = [
          'â€Š',
          $Table(
            items = [
              [
                $InnerParens(
                  body = ğ“’,
                  maxLevel = 0
                ),
                'â€‰â†’â€‰',
                $InnerParens(
                  body = ğ““,
                  maxLevel = 0
                )
              ],
              [ğ—, 'â€‰â†¦â€‰', ğ],
              [
                $Parens(
                  body = $FunctionDefinition(
                    function = f,
                    symbol = 'â†’',
                    operands = [ğ˜, ğ™]
                  ),
                  style = '()'
                ),
                'â€‰â†¦â€‰',
                n
              ]
            ],
            style = 'aligned'
          )
        ]
      )]
    },
    equalityDefinition = {
      leftParameters = #(
        ğ—: %Binding(
          O,
          #(ğ: %Element(P))
        ),
        ğ˜: %Binding(
          O,
          #(ğ™: %Binding(
            O,
            #(f: %Binding(
              M[ğ˜,ğ™],
              #(n: %Element(N[ğ[ğ˜],ğ[ğ™]]))
            ))
          ))
        ),
        _1: %Constraint(%forall(
          #(ğ—: %Element(O)),
          %equals(n[ğ—,ğ—,i[ğ—]], j[ğ[ğ—]])
        )),
        _2: %Constraint(%forall(
          #(
            ğ—: %Element(O),
            ğ˜: %Element(%previous),
            ğ™: %Element(%previous),
            f: %Element(M[ğ—,ğ˜]),
            g: %Element(M[ğ˜,ğ™])
          ),
          %equals(
            n[
              ğ—,
              ğ™,
              $../../Essentials/Functions/Operations/value(
                X = {M[ğ˜,ğ™]},
                Y = {M[ğ—,ğ˜]},
                Z = {M[ğ—,ğ™]},
                âˆ— = {âˆ˜[ğ—,ğ˜,ğ™]},
                x = {g},
                y = {f}
              )
            ],
            $../../Essentials/Functions/Operations/value(
              X = {N[ğ[ğ˜],ğ[ğ™]]},
              Y = {N[ğ[ğ—],ğ[ğ˜]]},
              Z = {N[ğ[ğ—],ğ[ğ™]]},
              âˆ— = {âˆ™[ğ[ğ—],ğ[ğ˜],ğ[ğ™]]},
              x = {n[ğ˜,ğ™,g]},
              y = {n[ğ—,ğ˜,f]}
            )
          )
        ))
      ),
      rightParameters = #(
        "ğ—'": %Binding(
          O,
          #("ğ'": %Element(P))
        ),
        "ğ˜'": %Binding(
          O,
          #("ğ™'": %Binding(
            O,
            #(f: %Binding(
              M["ğ˜'","ğ™'"],
              #("n'": %Element(N["ğ'"["ğ˜'"],"ğ'"["ğ™'"]]))
            ))
          ))
        ),
        "_1'": %Constraint(%forall(
          #("ğ—'": %Element(O)),
          %equals("n'"["ğ—'","ğ—'",i["ğ—'"]], j["ğ'"["ğ—'"]])
        )),
        "_2'": %Constraint(%forall(
          #(
            "ğ—'": %Element(O),
            "ğ˜'": %Element(%previous),
            "ğ™'": %Element(%previous),
            "f'": %Element(M["ğ—'","ğ˜'"]),
            "g'": %Element(M["ğ˜'","ğ™'"])
          ),
          %equals(
            "n'"[
              "ğ—'",
              "ğ™'",
              $../../Essentials/Functions/Operations/value(
                X = {M["ğ˜'","ğ™'"]},
                Y = {M["ğ—'","ğ˜'"]},
                Z = {M["ğ—'","ğ™'"]},
                âˆ— = {âˆ˜["ğ—'","ğ˜'","ğ™'"]},
                x = {"g'"},
                y = {"f'"}
              )
            ],
            $../../Essentials/Functions/Operations/value(
              X = {N["ğ'"["ğ˜'"],"ğ'"["ğ™'"]]},
              Y = {N["ğ'"["ğ—'"],"ğ'"["ğ˜'"]]},
              Z = {N["ğ'"["ğ—'"],"ğ'"["ğ™'"]]},
              âˆ— = {âˆ™["ğ'"["ğ—'"],"ğ'"["ğ˜'"],"ğ'"["ğ™'"]]},
              x = {"n'"["ğ˜'","ğ™'","g'"]},
              y = {"n'"["ğ—'","ğ˜'","f'"]}
            )
          )
        ))
      ),
      definition = [%and(
        %forall(
          #(ğ—: %Element(O)),
          %equals(ğ[ğ—], "ğ'"[ğ—])
        ),
        %forall(
          #(
            ğ˜: %Element(O),
            ğ™: %Element(O),
            f: %Element(M[ğ˜,ğ™])
          ),
          %equals(n[ğ˜,ğ™,f], "n'"[ğ˜,ğ™,f])
        )
      )],
      isomorphic = %true
    }
  }

  display = [$FunctionOperator(
    symbol = 'â†’',
    operands = [ğ“’, ğ““],
    minParenLevel = -1
  )],
  definitionDisplay = {
    parameter = #(F: %Expr),
    display = [$FunctionDefinition(
      function = F,
      symbol = 'â†’',
      operands = [ğ“’, ğ““]
    )],
    singularName = 'functor',
    pluralName = 'functors',
    nameOptional = %true
  }
}
