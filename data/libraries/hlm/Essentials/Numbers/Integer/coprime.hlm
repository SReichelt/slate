%../../../../../logics/hlm%

$coprime(
  a: %Element($Integers),
  b: %Element(%previous)
): %Predicate {
  display = [$MultiProperty(
    operands = [a, b],
    property = 'coprime'
  )],
  definition = [
    %forall(
      #(
        c: %Element($"Positive numbers"),
        _1: %Constraint($divisible(
          a = {c},
          b = {a}
        )),
        _2: %Constraint($divisible(
          a = {c},
          b = {b}
        ))
      ),
      %equals(
        c,
        $../Natural/number(value = 1)
      )
    ),
    %not(%exists(
      #(d: %Element($"Segment (greater)"(a = {$../Natural/number(value = 1)}))),
      formula = %and(
        $divisible(
          a = {d},
          b = {a}
        ),
        $divisible(
          a = {d},
          b = {b}
        )
      )
    )),
    %forall(
      #(
        e: %Element($"Nonzero numbers"),
        _3: %Constraint($divisible(
          a = {e},
          b = {a}
        )),
        _4: %Constraint($divisible(
          a = {e},
          b = {b}
        ))
      ),
      %equals(
        $absolute(a = {e}),
        $../Natural/number(value = 1)
      )
    ),
    %sub(
      $../../Sets/Intersection(
        U = {$Integers},
        S = {$Divisors(b = {a})},
        T = {$Divisors(b = {b})}
      ),
      %enumeration(
        $../Natural/number(value = 1),
        $inverse(a = {$../Natural/number(value = 1)})
      )
    ),
    %setEquals(
      $../../Sets/Intersection(
        U = {$Integers},
        S = {$Divisors(b = {a})},
        T = {$Divisors(b = {b})}
      ),
      %enumeration(
        $../Natural/number(value = 1),
        $inverse(a = {$../Natural/number(value = 1)})
      )
    ),
    %not(%exists(
      #(p: %Element($../Natural/Prime/"Prime numbers")),
      formula = %and(
        $divisible(
          a = {p},
          b = {a}
        ),
        $divisible(
          a = {p},
          b = {b}
        )
      )
    ))
  ]
}
